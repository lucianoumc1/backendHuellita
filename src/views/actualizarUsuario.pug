doctype html
html(lang="es")
  head
    title Actualizar Usuario
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
  body
    .container.mt-5
      h1.mb-4 Actualizar Usuario
      
      form(method="POST", action=`/usuarios/actualizar/${usuario._id}`)
        .mb-3
          label.form-label(for="nombre") Nombre
          input.form-control(
            type="text", 
            name="nombre", 
            value=usuario.datosPersonales.nombre,
            required
          )
        
        .mb-3
          label.form-label(for="apellido") Apellido
          input.form-control(
            type="text", 
            name="apellido", 
            value=usuario.datosPersonales.apellido,
            required
          )
        
        .mb-3
          label.form-label(for="email") Email
          input.form-control(
            type="email", 
            name="email", 
            value=usuario.datosPersonales.email,
            required,
            readonly
          )
        
        .mb-3
          label.form-label(for="password") Nueva Contraseña (dejar vacío para no cambiar)
          input.form-control(type="password", name="password", minlength="8")
        
        .mb-3
          label.form-label(for="rol") Rol
          select.form-select(name="rol")
            option(value="user", selected=usuario.roles.includes('user')) Usuario
            option(value="admin", selected=usuario.roles.includes('admin')) Administrador
        
        button.btn.btn-primary(type="submit") Actualizar Usuario